import boto3

def lambda_handler(event, context):
   try:
       EmailId = event['queryStringParameters']['ei']
       MatchId = int(event['queryStringParameters']['ma'])
       BidAmt = int(event['queryStringParameters']['amt'])
       Team = event['queryStringParameters']['team']
       dynamodb = boto3.resource('dynamodb')
       table = dynamodb.Table('Bidding')
       table.put_item(Item={'emailId': EmailId,'matchId': MatchId, 'bidAmt':BidAmt, 'team':Team, 'winner':'NA'})
       return { "statusCode" : 302,"headers": { "Location" : "https://s3.ap-south-1.amazonaws.com/divyaranitraining/success.html"}}
   except Exception as e:
       print (e)
       return { "statusCode" : 302,"headers": { "Location" : "https://s3.ap-south-1.amazonaws.com/divyaranitraining/biddingpage.html" }}